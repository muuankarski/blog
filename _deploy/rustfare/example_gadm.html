<!DOCTYPE html>
<html lang="en"> <!-- Set this to the main language of your site -->
<head>
	<!-- Define the page charset to be utf-8 -->
	<meta charset="utf-8" />
	
    <title>rustfare Markus Kainu</title>
	
	<!-- Enter a brief description of your page -->
	<meta name="description" content="">
	
	<!-- Define a viewport to mobile devices to use - telling the browser to assume that the page is as wide as the device (width=device-width) and setting the initial page zoom level to be 1 (initial-scale=1.0) -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Atom Feed -->
    <link href="/blog/feed.xml" rel="alternate" title="Markus Kainu's Blog Post Feed" type="application/atom+xml">
	
	<!-- Add normalize.css which enables browsers to render all elements more consistently and in line with modern standards as it only targets particular styles that need normalizing -->
	<link href="/css/normalize.css" rel="stylesheet" media="all" />

    <!-- Add bootstrap which makes everything better -->
    <link href="/css/readable-bootstrap.min.css" rel="stylesheet" media="all" />
    <link href="/css/font-awesome.min.css" rel="stylesheet" media="all" />
    <!--
    <link href="/css/bootstrap.min.css" rel="stylesheet" />
    -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="/css/bootstrap-responsive.min.css" rel="stylesheet" />

    <!-- Stylesheet for Pygments highlighting -->
    <link href="/css/pygments.css" rel="stylesheet" media="all" />

    <!-- Include the site stylesheet -->
	<link href="/css/styles.css" rel="stylesheet" media="all" />
	
	<!-- Include the HTML5 shiv and shiv print polyfills for Internet Explorer browsers 8 and below -->
	<!--[if lt IE 9]>
		<script src="/js/html5shiv.js" media="all"></script>
		<script src="/js/html5shiv-printshiv.js" media="print"></script>
	<![endif]-->

</head>
<body>

    <div class="container">

	<!-- The page header typically contains items such as your site heading, logo and possibly the main site navigation -->
	<!-- ARIA: the landmark role "banner" is set as it is the prime heading or internal title of the page --> 
	<header role="banner" class="subhead">
	
		<!-- ARIA: the landmark role "navigation" is added here as the element contains site navigation -->
		<div class="subnav">
			<!-- This can contain your site navigation either in an unordered list or even a paragraph that contains links that allow users to navigate your site -->
            <ul class="nav nav-pills pull-right">
                <li><a href="/rustfare/index.html">rustfare main</a></li>
                <li><a href="/rustfare/index.html#examples-by-data-source">examples</a></li>
                <li><a title="code" href="https://github.com/muuankarski/rustfare">
                    <i class="icon-github"></i></a></li>
                <li><a title="tweets" href="https://twitter.com/muuankarski">
                    <i class="icon-twitter"></i></a></li>
                <li><a title="email" href="mailto:markuskainu@gmail.com">
                    <i class="icon-envelope"></i></a></li>
            </ul>
		</div>

		<h3><a href="/">Markus Kainu</a></h3>	
		
	</header>
	
	<!-- If you want to use an element as a wrapper, i.e. for styling only, then <div> is still the element to use -->
	<div class="wrap content shadow">

<h1 style="text-align:left; font-size:22.5px">rustfare-package</h1>
	
        <div id="homepage">

<section class="level2" id="examples-gadm-database-of-global-administrative-areas">
<h2>Examples: GADM database of Global Administrative Areas</h2>
</section>
<section class="level2" id="introduction">
<h2>Introduction</h2>
<p>rustfare has functions for downloading a spatial shapefile from <a href="http://www.gadm.org/">Global Administrative Areas (GADM)</a> database that can be further used to for example plot the data from Rosstat regional data.</p>
<p>Function <code>GetRusGADM()</code> downloads the shapefile at desired level. Level argument accepts four values:</p>
<ul>
<li><code>federal</code>: whole country</li>
<li><code>federal_districts</code>: Federal districts (8)</li>
<li><code>region</code>: administrative boundaries at the level of federal regions/oblasts (82)</li>
<li><code>rayon</code>: administrative boundaries at the level of rayons/krais</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">shapefile &lt;- <span class="kw">GetRusGADM</span>(level)</code></pre>
</section>
<section class="level2" id="plot-shapefiles">
<h2>Plot shapefiles</h2>
<section class="level3" id="at-federal-level">
<h3>At federal level</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rustfare)
shapefile &lt;- <span class="kw">GetRusGADM</span>(<span class="st">&quot;federal&quot;</span>)
<span class="kw">plot</span>(shapefile)</code></pre>
<figure>
<img src="figure/map1.png" alt="plot of chunk map1"><figcaption>plot of chunk map1</figcaption>
</figure>
</section>
<section class="level3" id="at-federal-district-level">
<h3>At federal district level</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rustfare)
shapefile &lt;- <span class="kw">GetRusGADM</span>(<span class="st">&quot;federal_district&quot;</span>)
<span class="kw">plot</span>(shapefile)</code></pre>
<figure>
<img src="figure/map2.png" alt="plot of chunk map2"><figcaption>plot of chunk map2</figcaption>
</figure>
</section>
<section class="level3" id="at-regional-level">
<h3>At regional level</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rustfare)
shapefile &lt;- <span class="kw">GetRusGADM</span>(<span class="st">&quot;region&quot;</span>)
<span class="kw">plot</span>(shapefile)</code></pre>
<figure>
<img src="figure/map3.png" alt="plot of chunk map3"><figcaption>plot of chunk map3</figcaption>
</figure>
</section>
<section class="level3" id="at-rayon-level">
<h3>At rayon level</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rustfare)
shapefile &lt;- <span class="kw">GetRusGADM</span>(<span class="st">&quot;rayon&quot;</span>)
<span class="kw">plot</span>(shapefile)</code></pre>
<figure>
<img src="figure/map4.png" alt="plot of chunk map4"><figcaption>plot of chunk map4</figcaption>
</figure>
</section>
</section>
<section class="level2" id="combining-data-from-rosstat-regional-data-with-gadm-shapefile-and-visualizing-it">
<h2>Combining data from Rosstat Regional Data with GADM shapefile and visualizing it</h2>
<section class="level3" id="using-maptools-and-sp">
<h3>Using maptools and sp</h3>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rustfare)
dat &lt;- <span class="kw">GetRosstat</span>(<span class="st">&quot;average_size_of_pensions&quot;</span>, <span class="st">&quot;federal_district&quot;</span>)</code></pre>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">dat10 &lt;- <span class="kw">subset</span>(dat, year == <span class="dv">2010</span>)
shape &lt;- <span class="kw">GetRusGADM</span>(<span class="st">&quot;federal_district&quot;</span>)
<span class="kw">library</span>(maptools)
<span class="kw">row.names</span>(dat10) &lt;- dat10$id_shape
<span class="kw">row.names</span>(shape) &lt;- <span class="kw">as.character</span>(shape$ID_1)
dat10 &lt;- dat10[<span class="kw">order</span>(<span class="kw">row.names</span>(dat10)), ]
shape &lt;- shape[<span class="kw">order</span>(<span class="kw">row.names</span>(shape)), ]
df &lt;- <span class="kw">spCbind</span>(shape, dat10)
<span class="kw">library</span>(sp)
<span class="kw">spplot</span>(df, <span class="st">&quot;value&quot;</span>, <span class="dt">col.regions =</span> <span class="kw">grey.colors</span>(<span class="dv">20</span>, <span class="fl">0.9</span>, <span class="fl">0.3</span>))</code></pre>
<figure>
<img src="figure/mapcombine.png" alt="plot of chunk mapcombine"><figcaption>plot of chunk mapcombine</figcaption>
</figure>
</section>
<section class="level3" id="using-ggplot2">
<h3>Using ggplot2</h3>
<p>There is a <code>RosstatMapPlot</code>-function in rustfare that takes <code>measure</code>, <code>year</code> and <code>level</code> as arguments.</p>
<section class="level4" id="infant-mortality-rate-at-regional-level">
<h4>Infant mortality rate at regional level</h4>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rustfare)
<span class="kw">RosstatMapPlot</span>(<span class="st">&quot;infant_mortality_rate&quot;</span>, <span class="dv">2010</span>, <span class="st">&quot;region&quot;</span>)</code></pre>
<figure>
<img src="figure/rosstatmap1.png" alt="plot of chunk rosstatmap1"><figcaption>plot of chunk rosstatmap1</figcaption>
</figure>
</section>
<section class="level4" id="average-pension-size-at-federal-district-level">
<h4>Average pension size at federal district level</h4>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rustfare)
<span class="kw">RosstatMapPlot</span>(<span class="st">&quot;average_size_of_pensions&quot;</span>, <span class="dv">2010</span>, <span class="st">&quot;federal_district&quot;</span>)</code></pre>
<figure>
<img src="figure/rosstatmap2.png" alt="plot of chunk rosstatmap2"><figcaption>plot of chunk rosstatmap2</figcaption>
</figure>
</section>
</section>
</section>


</div>





		
	</div>


	
	<!-- The main page footer can contain items such as copyright and contact information. It can also contain a duplicated navigation of your site which is not usually contained within a <nav> -->
	<!-- ARIA: the landmark role "contentinfo" is added here as it contains metadata that applies to the parent document -->
	<footer role="contentinfo" style="margin: 10px 5px;">

        <small class="pull-right">With a little help from <a href="http://jekyllrb.com/">Jekyll</a> and <a href="http://getbootstrap.com/">Bootstrap</a></small> 

		<!-- Copyright information can be contained within the <small> element. The <time> element is used here to indicate that the '2012' is a date -->
		<small>Copyright &copy; <a href="http://markuskainu.fi">Markus Kainu</a> <time datetime="2013">2013</time></small>
		
	</footer>

    </div>
	
	
</body>
</html>

